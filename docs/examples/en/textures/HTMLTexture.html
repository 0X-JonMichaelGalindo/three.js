<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<base href="../../../" />
		<script src="page.js"></script>
		<link type="text/css" rel="stylesheet" href="page.css" />
	</head>
	<body>

		<h1>[name]</h1>

		<p class="desc">
			A texture that renders an HTML document.<br /><br />

			Note:
			<ul>
				<li>Iframes are not supported.</li>
				<li>Depending on security settings, cross-origin content may not render.</li>
			</ul>

		</p>

		<h2>Code Example</h2>

		<code>
		async function setupMyHTMLTexture() {

			const myUI = await fetch('my-ui.html');
			const html = await myUI.text();
	
			const width = 256;
			const height = 256;
	
			const htmlTexture = new HTMLTexture( html , width , height );
	
			//set up event listeners 
			let myButton = htmlTexture.document.querySelector( 'my-button' );
			myButton.onclick = async function() {
	
				console.log( "My button was clicked!" );
	
				//Change the button's style:
	
				//await redraw (avoids drawing half-styled changes)
				await htmlTexture.redrawing;
	
				this.className = "clicked";
	
				//always request redraw after changes
				htmlTexture.requestRedraw();
	
			}
	
			//update your element styles
			const someElement = htmlTexture.document.getElementById( 'my-element' );
			someElement.classList.add( "highlighted" );
	
			//always request redraw after changes
			htmlTexture.requestRedraw();

			return htmlTexture;
		}
		</code>

		Example with CSS animations and transitions:
		<code>
		function render() {

			//request redraw every frame for CSS animations and transitions
			myHTMLTexture.requestRedraw();
			
			renderer.render( scene, camera );

		}
		</code>

		<h2>Examples</h2>

		<p>
			[example:webgl_html_texture]<br />
		</p>

		<h2>Constructor</h2>

		<h3>[name]( [param:String html], [param:Number width], [param:Number height], [param:Constant mapping], [param:Constant wrapS], [param:Constant wrapT], [param:Constant magFilter], [param:Constant minFilter], [param:Constant format], [param:Constant type], [param:Number anisotropy] )</h3>
		<p>
			[page:String html] -- (optional) The html to draw. Defaults to a blank document.<br />
			[page:Number width] -- (optional) Texture width. Will default to 300.<br />
			[page:Number height] -- (optional) Texture height. Will default to 150.<br /><br />

			See [page:CanvasTexture CanvasTexture] and [page:Texture Texture] for texture parameters.<br /><br />

		</p>
		<p>
		Creates a new [name].
		</p>

		<h2>Properties</h2>

		<h3>[property:HTMLDocument document]</h3>
		<p>
			The texture's current html document.<br /><br />

			This will be replaced if a new html string is passed to [page:HTMLTexture.requestRedraw requestRedraw].<br />

		</p>

		<h3>[property:Promise redrawing]</h3>
		<p>
		A convenient promise for waiting until redraw finishes.<br /><br />
		If not redrawing at the moment, this promise is already resolved.<br />
		If redrawing, this promise will resolve when redraw finishes.<br /><br />

		You can avoid redrawing partial changes using await:
		<code>
		await myHTMLTexture.redrawing;

		hyHTMLTexture.document.querySelector( "..." ); 
		//etc...
		</code>
		</p>

		<h2>Methods</h2>

		<h3>[method:void addPointer]( [param:Vector2 pointer], [param:Bool down] )</h3>
		<p>
			Start tracking a new mouse pointer with 1 button (either down or not down).
		</p>

		<h3>[method:void updatePointer]( [param:Vector2 pointer], [param:Bool down] )</h3>
		<p>
			Update a mouse pointer's position and button state.<br /><br />

			Pass the Vector2 pointer to addPointer() first, or this method will do nothing.
		</p>

		<h3>[method:HTMLElement elementFromPoint]( [param:Number x], [param:Number y] )</h3>
		<p>
			From the texture's HTML document, returns the element at (x,y).
		</p>

		<h3>[method:Promise requestRedraw]( [param:String html], [param:Number width], [param:Number height] )</h3>
		<p>
			[page:String html] -- (optional) If set, will completely replace your texture's html document.<br />
			[page:Number width] -- (optional) If set, will change your texture's width.<br />
			[page:Number height] -- (optional) If set, will change your texture's height.<br /><br />

			Redraw the texture's HTML document after changes.<br /><br />

			If html is specified, the texture's document will be completely replaced by the new html.<br /><br />

			If width and height are specified, the texture's dimensions will change and the HTML will reflow.<br /><br />

			If already redrawing, this function does nothing.<br /><br />
		</p>

		<h2>Source</h2>

		<p>
			[link:https://github.com/mrdoob/three.js/blob/master/examples/jsm/textures/HTMLTexture.js examples/jsm/textures/HTMLTexture.js]
		</p>
	
	</body>
</html>
